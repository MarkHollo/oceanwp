(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _constants = require("../constants");

var _utils = require("../lib/utils");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, "set"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }

function _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError("attempted to set read only private field"); } descriptor.value = value; } }

function _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, "get"); return _classApplyDescriptorGet(receiver, descriptor); }

function _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError("attempted to " + action + " private field on non-instance"); } return privateMap.get(receiver); }

function _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }

var _isMenuOpen = new WeakMap();

var _menuItemsToggleIcon = new WeakMap();

var _start = new WeakMap();

var _setupEventListeners = new WeakMap();

var _onMenuIconClick = new WeakMap();

var _onMenuClose = new WeakMap();

var _onWindowResize = new WeakMap();

var _onHamburgerClick = new WeakMap();

var _onMenuItemToggleIcon = new WeakMap();

var MobileMenu = function MobileMenu() {
  var _this = this;

  _classCallCheck(this, MobileMenu);

  _isMenuOpen.set(this, {
    writable: true,
    value: void 0
  });

  _menuItemsToggleIcon.set(this, {
    writable: true,
    value: void 0
  });

  _start.set(this, {
    writable: true,
    value: function value() {
      _classPrivateFieldSet(_this, _isMenuOpen, false);

      _constants.DOM.mobileMenu.menuItemsHasChildren.forEach(function (item) {
        var span = document.createElement("span");
        span.className = "dropdown-toggle";
        item.getElementsByTagName("a")[0].appendChild(span);
      });

      _classPrivateFieldSet(_this, _menuItemsToggleIcon, _constants.options.sidrDropdownTarget == "link" ? document.querySelectorAll("#mobile-dropdown li.menu-item-has-children > a") : document.querySelectorAll(".dropdown-toggle"));
    }
  });

  _setupEventListeners.set(this, {
    writable: true,
    value: function value() {
      _constants.DOM.mobileMenu.icon.addEventListener("click", _classPrivateFieldGet(_this, _onMenuIconClick));

      document.addEventListener("click", _classPrivateFieldGet(_this, _onMenuClose));

      _constants.DOM.mobileMenu.nav.querySelectorAll('li a[href*="#"]:not([href="#"])').forEach(function (menuItemLink) {
        menuItemLink.addEventListener("click", _classPrivateFieldGet(_this, _onMenuClose));
      });

      _constants.DOM.mobileMenu.nav.addEventListener("click", function (event) {
        event.stopPropagation();
      });

      window.addEventListener("resize", _classPrivateFieldGet(_this, _onWindowResize));

      _constants.DOM.mobileMenu.hamburger.addEventListener("click", _classPrivateFieldGet(_this, _onHamburgerClick));

      _classPrivateFieldGet(_this, _menuItemsToggleIcon).forEach(function (menuItemToggleIcon) {
        menuItemToggleIcon.addEventListener("click", _classPrivateFieldGet(_this, _onMenuItemToggleIcon));
        menuItemToggleIcon.addEventListener("tap", _classPrivateFieldGet(_this, _onMenuItemToggleIcon));
      });
    }
  });

  _onMenuIconClick.set(this, {
    writable: true,
    value: function value(event) {
      event.stopPropagation();
      (0, _utils.slideToggle)(_constants.DOM.mobileMenu.nav, 500);

      _constants.DOM.mobileMenu.icon.classList.toggle("opened");

      _constants.DOM.mobileMenu.hamburger.classList.toggle("is-active");
    }
  });

  _onMenuClose.set(this, {
    writable: true,
    value: function value(event) {
      (0, _utils.slideUp)(_constants.DOM.mobileMenu.nav, 200);

      _constants.DOM.mobileMenu.icon.classList.remove("opened");

      _constants.DOM.mobileMenu.hamburger.classList.remove("is-active");
    }
  });

  _onWindowResize.set(this, {
    writable: true,
    value: function value(event) {
      if (window.innerWidth >= 960) {
        _classPrivateFieldGet(_this, _onMenuClose).call(_this);
      }
    }
  });

  _onHamburgerClick.set(this, {
    writable: true,
    value: function value(event) {
      _classPrivateFieldSet(_this, _isMenuOpen, !_classPrivateFieldGet(_this, _isMenuOpen));

      event.currentTarget.setAttribute("aria-expanded", _classPrivateFieldGet(_this, _isMenuOpen));
    }
  });

  _onMenuItemToggleIcon.set(this, {
    writable: true,
    value: function value(event) {
      event.preventDefault();
      event.stopPropagation();
      var menuItemToggleIcon = event.currentTarget;
      var menuItem = _constants.options.sidrDropdownTarget == "link" ? menuItemToggleIcon.parentNode : menuItemToggleIcon.parentNode.parentNode;

      if (!menuItem.classList.contains("active")) {
        _constants.DOM.mobileMenu.menuItemsHasChildren.forEach(function (menuItemHasChildren) {
          if (menuItem != menuItemHasChildren && menuItem.oceanParents(".menu-item-has-children").findIndex(function (parentMenuItem) {
            return parentMenuItem == menuItemHasChildren;
          })) {
            menuItemHasChildren.classList.remove("active");
            (0, _utils.slideUp)(menuItemHasChildren.lastElementChild, 200);
          }
        });

        menuItem.classList.add("active");
        (0, _utils.slideDown)(menuItem.lastElementChild, 200);
      } else {
        menuItem.classList.remove("active");
        (0, _utils.slideUp)(menuItem.lastElementChild, 200);
      }
    }
  });

  if (_constants.DOM.body.classList.contains("dropdown-mobile")) {
    _classPrivateFieldGet(this, _start).call(this);

    _classPrivateFieldGet(this, _setupEventListeners).call(this);
  }
};

exports["default"] = MobileMenu;

},{"../constants":3,"../lib/utils":6}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _constants = require("../constants");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, "set"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }

function _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError("attempted to set read only private field"); } descriptor.value = value; } }

function _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, "get"); return _classApplyDescriptorGet(receiver, descriptor); }

function _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError("attempted to " + action + " private field on non-instance"); } return privateMap.get(receiver); }

function _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }

var _select = new WeakMap();

var _render = new WeakMap();

var _style = new WeakMap();

var _setupEventListeners = new WeakMap();

var _onMouseenter = new WeakMap();

var _onMouseleave = new WeakMap();

var Select = function Select() {
  var _this = this;

  _classCallCheck(this, Select);

  _select.set(this, {
    writable: true,
    value: void 0
  });

  _render.set(this, {
    writable: true,
    value: function value() {
      _constants.DOM.selects.forEach(function (select) {
        _classPrivateFieldSet(_this, _select, select);

        _classPrivateFieldGet(_this, _select).insertAdjacentHTML("afterend", "<span class=\"theme-select ".concat(_classPrivateFieldGet(_this, _select).classList, "\">\n                    <span class=\"theme-selectInner\">\n                        ").concat(_classPrivateFieldGet(_this, _select).options[_classPrivateFieldGet(_this, _select).selectedIndex].text, "\n                    </span>\n                </span>"));

        _classPrivateFieldGet(_this, _select).classList.add("hasCustomSelect");

        _classPrivateFieldGet(_this, _style).call(_this);

        _classPrivateFieldGet(_this, _setupEventListeners).call(_this);
      });
    }
  });

  _style.set(this, {
    writable: true,
    value: function value() {
      _classPrivateFieldGet(_this, _select).style.opacity = 0;
      _classPrivateFieldGet(_this, _select).style.position = "absolute";
      _classPrivateFieldGet(_this, _select).style.width = "228px";
      _classPrivateFieldGet(_this, _select).style.height = "34px";
      _classPrivateFieldGet(_this, _select).style.fontSize = "13px";
      _classPrivateFieldGet(_this, _select).style.appearance = "menulist-button";
      _classPrivateFieldGet(_this, _select).nextSibling.style.display = "inline-block";
      _classPrivateFieldGet(_this, _select).nextSibling.firstElementChild.style.display = "inline-block";
    }
  });

  _setupEventListeners.set(this, {
    writable: true,
    value: function value() {
      _classPrivateFieldGet(_this, _select).addEventListener("mouseenter", _classPrivateFieldGet(_this, _onMouseenter));

      _classPrivateFieldGet(_this, _select).addEventListener("mouseleave", _classPrivateFieldGet(_this, _onMouseleave));
    }
  });

  _onMouseenter.set(this, {
    writable: true,
    value: function value() {
      _classPrivateFieldGet(_this, _select).classList.add("theme-selectHover");
    }
  });

  _onMouseleave.set(this, {
    writable: true,
    value: function value() {
      _classPrivateFieldGet(_this, _select).classList.remove("theme-selectHover");
    }
  });

  _classPrivateFieldGet(this, _render).call(this);
};

exports["default"] = Select;

},{"../constants":3}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DOMString = exports.DOM = exports.options = void 0;
var options = oceanwpLocalize;
exports.options = options;
var DOM = {
  body: document.body,
  selects: document.querySelectorAll(options.customSelects),
  mobileMenu: {
    nav: document.querySelector("#mobile-dropdown"),
    icon: document.querySelector(".mobile-menu"),
    hamburger: document.querySelector(".mobile-menu > .hamburger"),
    menuItemsHasChildren: document.querySelectorAll("#mobile-dropdown .menu-item-has-children")
  }
};
exports.DOM = DOM;
var DOMString = {};
exports.DOMString = DOMString;

},{}],4:[function(require,module,exports){
"use strict";

var _element = _interopRequireDefault(require("./lib/element"));

var _select = _interopRequireDefault(require("./components/select"));

var _mobileMenu = _interopRequireDefault(require("./components/mobile-menu"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var OceanWP = function OceanWP() {
  _classCallCheck(this, OceanWP);

  _defineProperty(this, "start", function () {});

  this.select = new _select["default"]();
  this.mobileMenu = new _mobileMenu["default"]();
};

"use script";
window.oceanwp = new OceanWP();
oceanwp.start();

},{"./components/mobile-menu":1,"./components/select":2,"./lib/element":5}],5:[function(require,module,exports){
"use strict";

Element.prototype.oceanParents = function (selector) {
  var elements = [];
  var elem = this;
  var ishaveselector = selector !== undefined;

  while ((elem = elem.parentElement) !== null) {
    if (elem.nodeType !== Node.ELEMENT_NODE) {
      continue;
    }

    if (!ishaveselector || elem.matches(selector)) {
      elements.push(elem);
    }
  }

  return elements;
};

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getParents = exports.slideToggle = exports.slideDown = exports.slideUp = exports.wrap = void 0;

var wrap = function wrap(element) {
  var wrapper = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document.createElement("div");

  if (element.nextSibling) {
    element.parentNode.insertBefore(wrapper, element.nextSibling);
  } else {
    element.parentNode.appendChild(wrapper);
  }

  return wrapper.appendChild(element);
};

exports.wrap = wrap;

var slideUp = function slideUp(element, duration) {
  element.style.transitionProperty = "height, margin, padding";
  element.style.transitionDuration = duration + "ms";
  element.style.boxSizing = "border-box";
  element.style.height = element.offsetHeight + "px";
  setTimeout(function () {
    element.style.height = 0;
  }, 10);
  element.style.paddingTop = 0;
  element.style.paddingBottom = 0;
  element.style.marginTop = 0;
  element.style.marginBottom = 0;
  element.style.overflow = "hidden";
  window.setTimeout(function () {
    element.style.display = "none";
    element.style.removeProperty("height");
    element.style.removeProperty("padding-top");
    element.style.removeProperty("padding-bottom");
    element.style.removeProperty("margin-top");
    element.style.removeProperty("margin-bottom");
    element.style.removeProperty("overflow");
    element.style.removeProperty("transition-duration");
    element.style.removeProperty("transition-property");
  }, duration);
};

exports.slideUp = slideUp;

var slideDown = function slideDown(element, duration) {
  element.style.removeProperty("display");
  var display = window.getComputedStyle(element).display;

  if (display === "none") {
    display = "block";
  }

  element.style.display = display;
  var height = element.offsetHeight;
  element.style.height = 0;
  element.style.paddingTop = 0;
  element.style.paddingBottom = 0;
  element.style.marginTop = 0;
  element.style.marginBottom = 0;
  element.style.overflow = "hidden";
  element.style.boxSizing = "border-box";
  element.style.transitionProperty = "height, margin, padding";
  element.style.transitionDuration = duration + "ms";
  setTimeout(function () {
    element.style.height = height + "px";
  }, 10);
  element.style.removeProperty("padding-top");
  element.style.removeProperty("padding-bottom");
  element.style.removeProperty("margin-top");
  element.style.removeProperty("margin-bottom");
  window.setTimeout(function () {
    element.style.removeProperty("height");
    element.style.removeProperty("overflow");
    element.style.removeProperty("transition-duration");
    element.style.removeProperty("transition-property");
  }, duration);
};

exports.slideDown = slideDown;

var slideToggle = function slideToggle(element, duration) {
  return window.getComputedStyle(element).display === "none" ? slideDown(element, duration) : slideUp(element, duration);
};

exports.slideToggle = slideToggle;

var getParents = function getParents(element, parentSelector) {
  if (parentSelector === undefined) {
    parentSelector = document;
  }

  var parents = [];
  var p = element.parentNode;

  while (p !== parentSelector) {
    var o = p;
    parents.push(o);
    p = o.parentNode;
  }

  parents.push(parentSelector);
  return parents;
};

exports.getParents = getParents;

},{}]},{},[4])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvc3JjL2pzL2NvbXBvbmVudHMvbW9iaWxlLW1lbnUuanMiLCJhc3NldHMvc3JjL2pzL2NvbXBvbmVudHMvc2VsZWN0LmpzIiwiYXNzZXRzL3NyYy9qcy9jb25zdGFudHMuanMiLCJhc3NldHMvc3JjL2pzL2luZGV4LmpzIiwiYXNzZXRzL3NyYy9qcy9saWIvZWxlbWVudC5qcyIsImFzc2V0cy9zcmMvanMvbGliL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztBQ0FBOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUVxQixVLEdBSWpCLHNCQUFjO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBLFdBT0wsaUJBQU07QUFDWCw0QkFBQSxLQUFJLGVBQWUsS0FBZixDQUFKOztBQUVBLHFCQUFJLFVBQUosQ0FBZSxvQkFBZixDQUFvQyxPQUFwQyxDQUE0QyxVQUFDLElBQUQsRUFBVTtBQUNsRCxZQUFJLElBQUksR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixNQUF2QixDQUFYO0FBQ0EsUUFBQSxJQUFJLENBQUMsU0FBTCxHQUFpQixpQkFBakI7QUFFQSxRQUFBLElBQUksQ0FBQyxvQkFBTCxDQUEwQixHQUExQixFQUErQixDQUEvQixFQUFrQyxXQUFsQyxDQUE4QyxJQUE5QztBQUNILE9BTEQ7O0FBT0EsNEJBQUEsS0FBSSx3QkFDQSxtQkFBUSxrQkFBUixJQUE4QixNQUE5QixHQUNNLFFBQVEsQ0FBQyxnQkFBVCxDQUEwQixnREFBMUIsQ0FETixHQUVNLFFBQVEsQ0FBQyxnQkFBVCxDQUEwQixrQkFBMUIsQ0FITixDQUFKO0FBSUg7QUFyQmE7O0FBQUE7QUFBQTtBQUFBLFdBdUJTLGlCQUFNO0FBQ3pCLHFCQUFJLFVBQUosQ0FBZSxJQUFmLENB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Y2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCB7IERPTSwgb3B0aW9ucyB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgc2xpZGVVcCwgc2xpZGVEb3duLCBzbGlkZVRvZ2dsZSwgZ2V0UGFyZW50cyB9IGZyb20gXCIuLi9saWIvdXRpbHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vYmlsZU1lbnUge1xyXG4gICAgI2lzTWVudU9wZW47XHJcbiAgICAjbWVudUl0ZW1zVG9nZ2xlSWNvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBpZiAoRE9NLmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZHJvcGRvd24tbW9iaWxlXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuI3N0YXJ0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuI3NldHVwRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgI3N0YXJ0ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuI2lzTWVudU9wZW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgRE9NLm1vYmlsZU1lbnUubWVudUl0ZW1zSGFzQ2hpbGRyZW4uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgICAgICBzcGFuLmNsYXNzTmFtZSA9IFwiZHJvcGRvd24tdG9nZ2xlXCI7XHJcblxyXG4gICAgICAgICAgICBpdGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKVswXS5hcHBlbmRDaGlsZChzcGFuKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy4jbWVudUl0ZW1zVG9nZ2xlSWNvbiA9XHJcbiAgICAgICAgICAgIG9wdGlvbnMuc2lkckRyb3Bkb3duVGFyZ2V0ID09IFwibGlua1wiXHJcbiAgICAgICAgICAgICAgICA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjbW9iaWxlLWRyb3Bkb3duIGxpLm1lbnUtaXRlbS1oYXMtY2hpbGRyZW4gPiBhXCIpXHJcbiAgICAgICAgICAgICAgICA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZHJvcGRvd24tdG9nZ2xlXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAjc2V0dXBFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgICAgICBET00ubW9iaWxlTWVudS5pY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLiNvbk1lbnVJY29uQ2xpY2spO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy4jb25NZW51Q2xvc2UpO1xyXG5cclxuICAgICAgICBET00ubW9iaWxlTWVudS5uYXYucXVlcnlTZWxlY3RvckFsbCgnbGkgYVtocmVmKj1cIiNcIl06bm90KFtocmVmPVwiI1wiXSknKS5mb3JFYWNoKChtZW51SXRlbUxpbmspID0+IHtcclxuICAgICAgICAgICAgbWVudUl0ZW1MaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLiNvbk1lbnVDbG9zZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIERPTS5tb2JpbGVNZW51Lm5hdi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLiNvbldpbmRvd1Jlc2l6ZSk7XHJcblxyXG4gICAgICAgIERPTS5tb2JpbGVNZW51LmhhbWJ1cmdlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy4jb25IYW1idXJnZXJDbGljayk7XHJcblxyXG4gICAgICAgIHRoaXMuI21lbnVJdGVtc1RvZ2dsZUljb24uZm9yRWFjaCgobWVudUl0ZW1Ub2dnbGVJY29uKSA9PiB7XHJcbiAgICAgICAgICAgIG1lbnVJdGVtVG9nZ2xlSWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy4jb25NZW51SXRlbVRvZ2dsZUljb24pO1xyXG4gICAgICAgICAgICBtZW51SXRlbVRvZ2dsZUljb24uYWRkRXZlbnRMaXN0ZW5lcihcInRhcFwiLCB0aGlzLiNvbk1lbnVJdGVtVG9nZ2xlSWNvbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgICNvbk1lbnVJY29uQ2xpY2sgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgc2xpZGVUb2dnbGUoRE9NLm1vYmlsZU1lbnUubmF2LCA1MDApO1xyXG4gICAgICAgIERPTS5tb2JpbGVNZW51Lmljb24uY2xhc3NMaXN0LnRvZ2dsZShcIm9wZW5lZFwiKTtcclxuICAgICAgICBET00ubW9iaWxlTWVudS5oYW1idXJnZXIuY2xhc3NMaXN0LnRvZ2dsZShcImlzLWFjdGl2ZVwiKTtcclxuICAgIH07XHJcblxyXG4gICAgI29uTWVudUNsb3NlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgc2xpZGVVcChET00ubW9iaWxlTWVudS5uYXYsIDIwMCk7XHJcbiAgICAgICAgRE9NLm1vYmlsZU1lbnUuaWNvbi5jbGFzc0xpc3QucmVtb3ZlKFwib3BlbmVkXCIpO1xyXG4gICAgICAgIERPTS5tb2JpbGVNZW51LmhhbWJ1cmdlci5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtYWN0aXZlXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAjb25XaW5kb3dSZXNpemUgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPj0gOTYwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuI29uTWVudUNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAjb25IYW1idXJnZXJDbGljayA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMuI2lzTWVudU9wZW4gPSAhdGhpcy4jaXNNZW51T3BlbjtcclxuICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgdGhpcy4jaXNNZW51T3Blbik7XHJcbiAgICB9O1xyXG5cclxuICAgICNvbk1lbnVJdGVtVG9nZ2xlSWNvbiA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnVJdGVtVG9nZ2xlSWNvbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XHJcbiAgICAgICAgY29uc3QgbWVudUl0ZW0gPVxyXG4gICAgICAgICAgICBvcHRpb25zLnNpZHJEcm9wZG93blRhcmdldCA9PSBcImxpbmtcIlxyXG4gICAgICAgICAgICAgICAgPyBtZW51SXRlbVRvZ2dsZUljb24ucGFyZW50Tm9kZVxyXG4gICAgICAgICAgICAgICAgOiBtZW51SXRlbVRvZ2dsZUljb24ucGFyZW50Tm9kZS5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgICBpZiAoIW1lbnVJdGVtLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgICBET00ubW9iaWxlTWVudS5tZW51SXRlbXNIYXNDaGlsZHJlbi5mb3JFYWNoKChtZW51SXRlbUhhc0NoaWxkcmVuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgbWVudUl0ZW0gIT0gbWVudUl0ZW1IYXNDaGlsZHJlbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgIG1lbnVJdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vY2VhblBhcmVudHMoXCIubWVudS1pdGVtLWhhcy1jaGlsZHJlblwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZEluZGV4KChwYXJlbnRNZW51SXRlbSkgPT4gcGFyZW50TWVudUl0ZW0gPT0gbWVudUl0ZW1IYXNDaGlsZHJlbilcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lbnVJdGVtSGFzQ2hpbGRyZW4uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZVVwKG1lbnVJdGVtSGFzQ2hpbGRyZW4ubGFzdEVsZW1lbnRDaGlsZCwgMjAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBtZW51SXRlbS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICBzbGlkZURvd24obWVudUl0ZW0ubGFzdEVsZW1lbnRDaGlsZCwgMjAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtZW51SXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICBzbGlkZVVwKG1lbnVJdGVtLmxhc3RFbGVtZW50Q2hpbGQsIDIwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBET00gfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWxlY3Qge1xyXG4gICAgI3NlbGVjdDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLiNyZW5kZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAjcmVuZGVyID0gKCkgPT4ge1xyXG4gICAgICAgIERPTS5zZWxlY3RzLmZvckVhY2goKHNlbGVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLiNzZWxlY3QgPSBzZWxlY3Q7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiNzZWxlY3QuaW5zZXJ0QWRqYWNlbnRIVE1MKFxyXG4gICAgICAgICAgICAgICAgXCJhZnRlcmVuZFwiLFxyXG4gICAgICAgICAgICAgICAgYDxzcGFuIGNsYXNzPVwidGhlbWUtc2VsZWN0ICR7dGhpcy4jc2VsZWN0LmNsYXNzTGlzdH1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRoZW1lLXNlbGVjdElubmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy4jc2VsZWN0Lm9wdGlvbnNbdGhpcy4jc2VsZWN0LnNlbGVjdGVkSW5kZXhdLnRleHR9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPmBcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuI3NlbGVjdC5jbGFzc0xpc3QuYWRkKFwiaGFzQ3VzdG9tU2VsZWN0XCIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy4jc3R5bGUoKTtcclxuICAgICAgICAgICAgdGhpcy4jc2V0dXBFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAjc3R5bGUgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy4jc2VsZWN0LnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgIHRoaXMuI3NlbGVjdC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgICAgICB0aGlzLiNzZWxlY3Quc3R5bGUud2lkdGggPSBcIjIyOHB4XCI7XHJcbiAgICAgICAgdGhpcy4jc2VsZWN0LnN0eWxlLmhlaWdodCA9IFwiMzRweFwiO1xyXG4gICAgICAgIHRoaXMuI3NlbGVjdC5zdHlsZS5mb250U2l6ZSA9IFwiMTNweFwiO1xyXG4gICAgICAgIHRoaXMuI3NlbGVjdC5zdHlsZS5hcHBlYXJhbmNlID0gXCJtZW51bGlzdC1idXR0b25cIjtcclxuXHJcbiAgICAgICAgdGhpcy4jc2VsZWN0Lm5leHRTaWJsaW5nLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xyXG4gICAgICAgIHRoaXMuI3NlbGVjdC5uZXh0U2libGluZy5maXJzdEVsZW1lbnRDaGlsZC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcclxuICAgIH07XHJcblxyXG4gICAgI3NldHVwRXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy4jc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHRoaXMuI29uTW91c2VlbnRlcik7XHJcbiAgICAgICAgdGhpcy4jc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMuI29uTW91c2VsZWF2ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgICNvbk1vdXNlZW50ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy4jc2VsZWN0LmNsYXNzTGlzdC5hZGQoXCJ0aGVtZS1zZWxlY3RIb3ZlclwiKTtcclxuICAgIH07XHJcblxyXG4gICAgI29uTW91c2VsZWF2ZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLiNzZWxlY3QuY2xhc3NMaXN0LnJlbW92ZShcInRoZW1lLXNlbGVjdEhvdmVyXCIpO1xyXG4gICAgfTtcclxufVxyXG4iLCJleHBvcnQgY29uc3Qgb3B0aW9ucyA9IG9jZWFud3BMb2NhbGl6ZTtcclxuXHJcbmV4cG9ydCBjb25zdCBET00gPSB7XHJcbiAgICBib2R5OiBkb2N1bWVudC5ib2R5LFxyXG4gICAgc2VsZWN0czogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLmN1c3RvbVNlbGVjdHMpLFxyXG4gICAgbW9iaWxlTWVudToge1xyXG4gICAgICAgIG5hdjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2JpbGUtZHJvcGRvd25cIiksXHJcbiAgICAgICAgaWNvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2JpbGUtbWVudVwiKSxcclxuICAgICAgICBoYW1idXJnZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9iaWxlLW1lbnUgPiAuaGFtYnVyZ2VyXCIpLFxyXG4gICAgICAgIG1lbnVJdGVtc0hhc0NoaWxkcmVuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI21vYmlsZS1kcm9wZG93biAubWVudS1pdGVtLWhhcy1jaGlsZHJlblwiKSxcclxuICAgIH0sXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgRE9NU3RyaW5nID0ge307XHJcbiIsImltcG9ydCBFbGVtZW50IGZyb20gXCIuL2xpYi9lbGVtZW50XCI7XHJcbmltcG9ydCBTZWxlY3QgZnJvbSBcIi4vY29tcG9uZW50cy9zZWxlY3RcIjtcclxuaW1wb3J0IE1vYmlsZU1lbnUgZnJvbSBcIi4vY29tcG9uZW50cy9tb2JpbGUtbWVudVwiO1xyXG5cclxuY2xhc3MgT2NlYW5XUCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdCA9IG5ldyBTZWxlY3QoKTtcclxuICAgICAgICB0aGlzLm1vYmlsZU1lbnUgPSBuZXcgTW9iaWxlTWVudSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0ID0gKCkgPT4ge307XHJcbn1cclxuXHJcbihcInVzZSBzY3JpcHRcIik7XHJcblxyXG53aW5kb3cub2NlYW53cCA9IG5ldyBPY2VhbldQKCk7XHJcbm9jZWFud3Auc3RhcnQoKTtcclxuIiwiRWxlbWVudC5wcm90b3R5cGUub2NlYW5QYXJlbnRzID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XHJcbiAgICB2YXIgZWxlbWVudHMgPSBbXTtcclxuICAgIHZhciBlbGVtID0gdGhpcztcclxuICAgIHZhciBpc2hhdmVzZWxlY3RvciA9IHNlbGVjdG9yICE9PSB1bmRlZmluZWQ7XHJcblxyXG4gICAgd2hpbGUgKChlbGVtID0gZWxlbS5wYXJlbnRFbGVtZW50KSAhPT0gbnVsbCkge1xyXG4gICAgICAgIGlmIChlbGVtLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaXNoYXZlc2VsZWN0b3IgfHwgZWxlbS5tYXRjaGVzKHNlbGVjdG9yKSkge1xyXG4gICAgICAgICAgICBlbGVtZW50cy5wdXNoKGVsZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWxlbWVudHM7XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCB3cmFwID0gKGVsZW1lbnQsIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSA9PiB7XHJcbiAgICBpZiAoZWxlbWVudC5uZXh0U2libGluZykge1xyXG4gICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgZWxlbWVudC5uZXh0U2libGluZyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh3cmFwcGVyKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzbGlkZVVwID0gKGVsZW1lbnQsIGR1cmF0aW9uKSA9PiB7XHJcbiAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25Qcm9wZXJ0eSA9IFwiaGVpZ2h0LCBtYXJnaW4sIHBhZGRpbmdcIjtcclxuICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gZHVyYXRpb24gKyBcIm1zXCI7XHJcbiAgICBlbGVtZW50LnN0eWxlLmJveFNpemluZyA9IFwiYm9yZGVyLWJveFwiO1xyXG4gICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodCArIFwicHhcIjtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gMDtcclxuICAgIH0sIDEwKTtcclxuICAgIGVsZW1lbnQuc3R5bGUucGFkZGluZ1RvcCA9IDA7XHJcbiAgICBlbGVtZW50LnN0eWxlLnBhZGRpbmdCb3R0b20gPSAwO1xyXG4gICAgZWxlbWVudC5zdHlsZS5tYXJnaW5Ub3AgPSAwO1xyXG4gICAgZWxlbWVudC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAwO1xyXG4gICAgZWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcblxyXG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJoZWlnaHRcIik7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcInBhZGRpbmctdG9wXCIpO1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJwYWRkaW5nLWJvdHRvbVwiKTtcclxuICAgICAgICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwibWFyZ2luLXRvcFwiKTtcclxuICAgICAgICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwibWFyZ2luLWJvdHRvbVwiKTtcclxuICAgICAgICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwib3ZlcmZsb3dcIik7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcInRyYW5zaXRpb24tZHVyYXRpb25cIik7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcInRyYW5zaXRpb24tcHJvcGVydHlcIik7XHJcbiAgICB9LCBkdXJhdGlvbik7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2xpZGVEb3duID0gKGVsZW1lbnQsIGR1cmF0aW9uKSA9PiB7XHJcbiAgICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiZGlzcGxheVwiKTtcclxuXHJcbiAgICBsZXQgZGlzcGxheSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLmRpc3BsYXk7XHJcblxyXG4gICAgaWYgKGRpc3BsYXkgPT09IFwibm9uZVwiKSB7XHJcbiAgICAgICAgZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIH1cclxuICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XHJcblxyXG4gICAgbGV0IGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xyXG4gICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAwO1xyXG4gICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nVG9wID0gMDtcclxuICAgIGVsZW1lbnQuc3R5bGUucGFkZGluZ0JvdHRvbSA9IDA7XHJcbiAgICBlbGVtZW50LnN0eWxlLm1hcmdpblRvcCA9IDA7XHJcbiAgICBlbGVtZW50LnN0eWxlLm1hcmdpbkJvdHRvbSA9IDA7XHJcbiAgICBlbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuXHJcbiAgICBlbGVtZW50LnN0eWxlLmJveFNpemluZyA9IFwiYm9yZGVyLWJveFwiO1xyXG4gICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uUHJvcGVydHkgPSBcImhlaWdodCwgbWFyZ2luLCBwYWRkaW5nXCI7XHJcbiAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGR1cmF0aW9uICsgXCJtc1wiO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XHJcbiAgICB9LCAxMCk7XHJcbiAgICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwicGFkZGluZy10b3BcIik7XHJcbiAgICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwicGFkZGluZy1ib3R0b21cIik7XHJcbiAgICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwibWFyZ2luLXRvcFwiKTtcclxuICAgIGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJtYXJnaW4tYm90dG9tXCIpO1xyXG5cclxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiaGVpZ2h0XCIpO1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJvdmVyZmxvd1wiKTtcclxuICAgICAgICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwidHJhbnNpdGlvbi1kdXJhdGlvblwiKTtcclxuICAgICAgICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwidHJhbnNpdGlvbi1wcm9wZXJ0eVwiKTtcclxuICAgIH0sIGR1cmF0aW9uKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzbGlkZVRvZ2dsZSA9IChlbGVtZW50LCBkdXJhdGlvbikgPT5cclxuICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLmRpc3BsYXkgPT09IFwibm9uZVwiXHJcbiAgICAgICAgPyBzbGlkZURvd24oZWxlbWVudCwgZHVyYXRpb24pXHJcbiAgICAgICAgOiBzbGlkZVVwKGVsZW1lbnQsIGR1cmF0aW9uKTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQYXJlbnRzID0gKGVsZW1lbnQsIHBhcmVudFNlbGVjdG9yKSA9PiB7XHJcbiAgICBpZiAocGFyZW50U2VsZWN0b3IgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHBhcmVudFNlbGVjdG9yID0gZG9jdW1lbnQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCBwYXJlbnRzID0gW107XHJcbiAgICBsZXQgcCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuICAgIHdoaWxlIChwICE9PSBwYXJlbnRTZWxlY3Rvcikge1xyXG4gICAgICAgIGNvbnN0IG8gPSBwO1xyXG4gICAgICAgIHBhcmVudHMucHVzaChvKTtcclxuICAgICAgICBwID0gby5wYXJlbnROb2RlO1xyXG4gICAgfVxyXG4gICAgcGFyZW50cy5wdXNoKHBhcmVudFNlbGVjdG9yKTtcclxuXHJcbiAgICByZXR1cm4gcGFyZW50cztcclxufTtcclxuIl19
