(function () {
    function r(e, n, t) {
        function o(i, f) {
            if (!n[i]) {
                if (!e[i]) {
                    var c = "function" == typeof require && require;
                    if (!f && c) return c(i, !0);
                    if (u) return u(i, !0);
                    var a = new Error("Cannot find module '" + i + "'");
                    throw ((a.code = "MODULE_NOT_FOUND"), a);
                }
                var p = (n[i] = { exports: {} });
                e[i][0].call(
                    p.exports,
                    function (r) {
                        var n = e[i][1][r];
                        return o(n || r);
                    },
                    p,
                    p.exports,
                    r,
                    e,
                    n,
                    t
                );
            }
            return n[i].exports;
        }
        for (var u = "function" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);
        return o;
    }
    return r;
})()(
    {
        1: [
            function (require, module, exports) {
                "use strict";

                Object.defineProperty(exports, "__esModule", {
                    value: true,
                });
                exports.DOMString = exports.DOM = exports.options = void 0;
                var options = oceanwpLocalize;
                exports.options = options;
                var DOM = {
                    html: document.querySelector("html"),
                    body: document.body,
                    WPAdminbar: document.querySelector("#wpadminbar"),
                    main: document.querySelector("#main"),
                    selectTags: document.querySelectorAll(options.customSelects),
                    floatingBar: document.querySelector(".owp-floating-bar"),
                    header: {
                        site: document.querySelector("#site-header"),
                        vertical: document.querySelector("#site-header.vertical-header #site-header-inner"),
                        fullScreen: document.querySelector("#site-header.full_screen-header"),
                        topbar: document.querySelector("#top-bar"),
                        topbarWrapper: document.querySelector("#top-bar-wrap"),
                        stickyTopbarWrapper: document.querySelector("#top-bar-sticky-wrapper"),
                        topLeftSide: document.querySelector("#site-header.top-header .header-top .left"),
                        topRightSide: document.querySelector("#site-header.top-header .header-top .right"),
                    },
                    menu: {
                        nav: document.querySelector("#site-header.header-replace #site-navigation"),
                        main: document.querySelector(".main-menu"),
                        fullScreen: {
                            menu: document.querySelector("#site-header.full_screen-header #full-screen-menu"),
                            toggleMenuBtn: document.querySelector(
                                "#site-header.full_screen-header .menu-bar"
                            ),
                            logo: document.querySelector("#site-logo.has-full-screen-logo"),
                        },
                        mega: {
                            menuItems: document.querySelectorAll("#site-navigation .megamenu-li.full-mega"),
                            topbarMenuItems: document.querySelectorAll("#top-bar-nav .megamenu-li.full-mega"),
                            menuContents: document.querySelectorAll(
                                ".navigation .megamenu-li.auto-mega .megamenu"
                            ),
                        },
                        vertical: {
                            toggleMenuBtn: document.querySelector("a.vertical-toggle"),
                        },
                    },
                    mobileMenu: {
                        nav: document.querySelector("#mobile-dropdown > nav"),
                        navWrapper: document.querySelector("#mobile-dropdown"),
                        toggleMenuBtn: document.querySelector(".mobile-menu"),
                        hamburgerBtn: document.querySelector(".mobile-menu > .hamburger"),
                        menuItemsHasChildren: document.querySelectorAll(
                            "#mobile-dropdown .menu-item-has-children"
                        ),
                        fullScreen: document.querySelector("#mobile-fullscreen"),
                    },
                    search: {
                        forms: document.querySelectorAll("form.header-searchform"),
                        dropDown: {
                            toggleSearchBtn: document.querySelector("a.search-dropdown-toggle"),
                            form: document.querySelector("#searchform-dropdown"),
                        },
                        headerReplace: {
                            toggleSearchBtn: document.querySelector("a.search-header-replace-toggle"),
                            closeBtn: document.querySelector("#searchform-header-replace-close"),
                            form: document.querySelector("#searchform-header-replace"),
                        },
                        overlay: {
                            toggleSearchBtn: document.querySelector("a.search-overlay-toggle"),
                            closeBtn: document.querySelector("a.search-overlay-close"),
                            form: document.querySelector("#searchform-overlay"),
                        },
                    },
                    footer: {
                        parallax: document.querySelector(".parallax-footer"),
                    },
                    scroll: {
                        scrollTop: document.querySelector("#scroll-top"),
                        goTop: document.querySelector('a[href="#go-top"]'),
                        goTopSlash: document.querySelector('body.home a[href="/#go-top"]'),
                    },
                    blog: {
                        masonryGrids: document.querySelectorAll(".blog-masonry-grid"),
                    },
                    edd: {
                        carts: document.querySelectorAll(".edd-menu-icon"),
                        overlayCarts: document.querySelectorAll(".owp-cart-overlay"),
                        totalPrices: document.querySelectorAll(".eddmenucart-details.total"),
                        quickViewModal: document.querySelector("#owp-qv-wrap"),
                        quickViewContent: document.querySelector("#owp-qv-content"),
                    },
                    woo: {
                        product: document.querySelector(".woocommerce div.product"),
                        allProducts: document.querySelectorAll(".woocommerce ul.products"),
                        categories: document.querySelectorAll(".woo-dropdown-cat .product-categories"),
                        verticalThumbs: document.querySelectorAll(".owp-thumbs-layout-vertical"),
                        navs: document.querySelectorAll(".flex-control-nav"),
                        grid: document.querySelector(".oceanwp-grid-list #oceanwp-grid"),
                        list: document.querySelector(".oceanwp-grid-list #oceanwp-list"),
                        productTabs: document.querySelector(".woocommerce div.product .woocommerce-tabs"),
                        productCarts: document.querySelectorAll(".woocommerce div.product .cart"),
                        quantity: document.querySelector('input[name="quantity"]'),
                        checkoutForm: document.querySelector("form.woocommerce-checkout"),
                        checkoutLogin: document.querySelector("#checkout_login"),
                        checkoutCoupon: document.querySelector("#checkout_coupon"),
                        checkoutTimeline: document.querySelector("#owp-checkout-timeline"),
                        customerBillingDetails: document.querySelector("#customer_billing_details"),
                        customerShippingDetails: document.querySelector("#customer_shipping_details"),
                        customerLogin: document.querySelector("#customer_login"),
                        orderReview: document.querySelector("#order_review"),
                        orderCheckoutPayment: document.querySelector("#order_checkout_payment"),
                        placeOrder: document.querySelector("#place_order"),
                        formActions: document.querySelector("#form_actions"),
                        overlayCart: document.querySelector(".owp-cart-overlay"),
                        accountLinks: document.querySelector(".owp-account-links"),
                        quantityInputs: document.querySelectorAll(".quantity:not(.buttons_added) .qty"),
                        quickView: {
                            modal: document.querySelector("#owp-qv-wrap"),
                            content: document.querySelector("#owp-qv-content"),
                        },
                    },
                };
                exports.DOM = DOM;
                var DOMString = {};
                exports.DOMString = DOMString;
            },
            {},
        ],
        2: [
            function (require, module, exports) {
                "use strict";

                var _delegate = _interopRequireDefault(require("delegate"));

                function _interopRequireDefault(obj) {
                    return obj && obj.__esModule ? obj : { "default": obj };
                }

                function _classCallCheck(instance, Constructor) {
                    if (!(instance instanceof Constructor)) {
                        throw new TypeError("Cannot call a class as a function");
                    }
                }

                function _classPrivateFieldGet(receiver, privateMap) {
                    var descriptor = _classExtractFieldDescriptor(receiver, privateMap, "get");
                    return _classApplyDescriptorGet(receiver, descriptor);
                }

                function _classExtractFieldDescriptor(receiver, privateMap, action) {
                    if (!privateMap.has(receiver)) {
                        throw new TypeError("attempted to " + action + " private field on non-instance");
                    }
                    return privateMap.get(receiver);
                }

                function _classApplyDescriptorGet(receiver, descriptor) {
                    if (descriptor.get) {
                        return descriptor.get.call(receiver);
                    }
                    return descriptor.value;
                }

                var _require = require("../../constants"),
                    DOM = _require.DOM,
                    options = _require.options;

                var _setupEventListeners = /*#__PURE__*/ new WeakMap();

                var _onAddToCartBtnClick = /*#__PURE__*/ new WeakMap();

                var _updateCart = /*#__PURE__*/ new WeakMap();

                var _getFormData = /*#__PURE__*/ new WeakMap();

                var WooAjaxAddToCart = function WooAjaxAddToCart() {
                    var _this = this;

                    _classCallCheck(this, WooAjaxAddToCart);

                    _setupEventListeners.set(this, {
                        writable: true,
                        value: function value() {
                            (0, _delegate["default"])(
                                DOM.body,
                                ".product:not(.product-type-external) .single_add_to_cart_button:not(.disabled)",
                                "click",
                                _classPrivateFieldGet(_this, _onAddToCartBtnClick)
                            );
                            jQuery("body").on("added_to_cart", _classPrivateFieldGet(_this, _updateCart));
                        },
                    });

                    _onAddToCartBtnClick.set(this, {
                        writable: true,
                        value: function value(event) {
                            var addToCartBtn = event.delegateTarget;
                            var $addToCartBtn = jQuery(addToCartBtn);
                            var form = addToCartBtn.closest("form.cart");

                            var formData = _classPrivateFieldGet(_this, _getFormData).call(_this, form);

                            var $body = jQuery("body");

                            if (
                                formData.some(function (data) {
                                    return data.name === "add-to-cart";
                                })
                            ) {
                                event.preventDefault();
                                $body.trigger("adding_to_cart", [$addToCartBtn, formData]);
                                addToCartBtn.classList.remove("added");
                                addToCartBtn.classList.add("loading");
                                jQuery.ajax({
                                    url: options.wc_ajax_url,
                                    type: "POST",
                                    data: formData,
                                    success: function success(results) {
                                        $body.trigger("wc_fragment_refresh");
                                        $body.trigger("added_to_cart", [null, null, $addToCartBtn]);

                                        if (options.cart_redirect_after_add === "yes") {
                                            window.location = options.cart_url;
                                            return;
                                        }
                                    },
                                });
                            }
                        },
                    });

                    _updateCart.set(this, {
                        writable: true,
                        value: function value(e, fragments, cart_hash, $button) {
                            var cartBtn = typeof $button === "undefined" ? false : $button.get(0);

                            if (cartBtn) {
                                cartBtn.classList.remove("loading");
                                cartBtn.classList.add("added"); // View cart text.

                                if (!options.is_cart && !cartBtn.parentNode.querySelector(".added_to_cart")) {
                                    cartBtn.insertAdjacentHTML(
                                        "afterend",
                                        '<a href="'
                                            .concat(
                                                options.cart_url,
                                                '" class="added_to_cart wc-forward" title="'
                                            )
                                            .concat(options.view_cart, '">')
                                            .concat(options.view_cart, "</a>")
                                    );
                                }
                            }
                        },
                    });

                    _getFormData.set(this, {
                        writable: true,
                        value: function value(form) {
                            form = form instanceof Element ? form : document.querySelector(form);
                            var rCRLF = /\r?\n/g;
                            return Array.from(form.elements).map(function (element, index) {
                                var value = element.value;

                                if (value === null) {
                                    return true;
                                } else if (element.nodeName === "checkbox" && element.checked === false) {
                                    return {
                                        name: element.name,
                                        value: "",
                                    };
                                } else if (element.nodeName === "radio" && element.checked === false) {
                                    return {
                                        name: element.name,
                                        value: "",
                                    };
                                }

                                return Array.isArray(value)
                                    ? Array.from(value).map(function (val, index) {
                                          return {
                                              name: element.name,
                                              value: val.replace(rCRLF, "\r\n"),
                                          };
                                      })
                                    : {
                                          name: element.name,
                                          value: value.replace(rCRLF, "\r\n"),
                                      };
                            });
                        },
                    });

                    if (DOM.woo.product.classList.contains("product-type-grouped")) {
                        return;
                    }

                    _classPrivateFieldGet(this, _setupEventListeners).call(this);
                };

                jQuery(function () {
                    new WooAjaxAddToCart();
                });
            },
            { "../../constants": 1, "delegate": 4 },
        ],
        3: [
            function (require, module, exports) {
                var DOCUMENT_NODE_TYPE = 9;

                /**
                 * A polyfill for Element.matches()
                 */
                if (typeof Element !== "undefined" && !Element.prototype.matches) {
                    var proto = Element.prototype;

                    proto.matches =
                        proto.matchesSelector ||
                        proto.mozMatchesSelector ||
                        proto.msMatchesSelector ||
                        proto.oMatchesSelector ||
                        proto.webkitMatchesSelector;
                }

                /**
                 * Finds the closest parent that matches a selector.
                 *
                 * @param {Element} element
                 * @param {String} selector
                 * @return {Function}
                 */
                function closest(element, selector) {
                    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {
                        if (typeof element.matches === "function" && element.matches(selector)) {
                            return element;
                        }
                        element = element.parentNode;
                    }
                }

                module.exports = closest;
            },
            {},
        ],
        4: [
            function (require, module, exports) {
                var closest = require("./closest");

                /**
                 * Delegates event to a selector.
                 *
                 * @param {Element} element
                 * @param {String} selector
                 * @param {String} type
                 * @param {Function} callback
                 * @param {Boolean} useCapture
                 * @return {Object}
                 */
                function _delegate(element, selector, type, callback, useCapture) {
                    var listenerFn = listener.apply(this, arguments);

                    element.addEventListener(type, listenerFn, useCapture);

                    return {
                        destroy: function () {
                            element.removeEventListener(type, listenerFn, useCapture);
                        },
                    };
                }

                /**
                 * Delegates event to a selector.
                 *
                 * @param {Element|String|Array} [elements]
                 * @param {String} selector
                 * @param {String} type
                 * @param {Function} callback
                 * @param {Boolean} useCapture
                 * @return {Object}
                 */
                function delegate(elements, selector, type, callback, useCapture) {
                    // Handle the regular Element usage
                    if (typeof elements.addEventListener === "function") {
                        return _delegate.apply(null, arguments);
                    }

                    // Handle Element-less usage, it defaults to global delegation
                    if (typeof type === "function") {
                        // Use `document` as the first parameter, then apply arguments
                        // This is a short way to .unshift `arguments` without running into deoptimizations
                        return _delegate.bind(null, document).apply(null, arguments);
                    }

                    // Handle Selector-based usage
                    if (typeof elements === "string") {
                        elements = document.querySelectorAll(elements);
                    }

                    // Handle Array-like based usage
                    return Array.prototype.map.call(elements, function (element) {
                        return _delegate(element, selector, type, callback, useCapture);
                    });
                }

                /**
                 * Finds closest match and invokes callback.
                 *
                 * @param {Element} element
                 * @param {String} selector
                 * @param {String} type
                 * @param {Function} callback
                 * @return {Function}
                 */
                function listener(element, selector, type, callback) {
                    return function (e) {
                        e.delegateTarget = closest(e.target, selector);

                        if (e.delegateTarget) {
                            callback.call(element, e);
                        }
                    };
                }

                module.exports = delegate;
            },
            { "./closest": 3 },
        ],
    },
    {},
    [2]
);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvc3JjL2pzL2NvbnN0YW50cy5qcyIsImFzc2V0cy9zcmMvanMvd3AtcGx1Z2lucy93b29jb21tZXJjZS93b28tYWpheC1hZGQtdG8tY2FydC5qcyIsIm5vZGVfbW9kdWxlcy9kZWxlZ2F0ZS9zcmMvY2xvc2VzdC5qcyIsIm5vZGVfbW9kdWxlcy9kZWxlZ2F0ZS9zcmMvZGVsZWdhdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUNBTyxJQUFNLE9BQU8sR0FBRyxlQUFoQjs7QUFFQSxJQUFNLEdBQUcsR0FBRztBQUNmLEVBQUEsSUFBSSxFQUFFLFFBQVEsQ0FBQyxhQUFULENBQXVCLE1BQXZCLENBRFM7QUFFZixFQUFBLElBQUksRUFBRSxRQUFRLENBQUMsSUFGQTtBQUdmLEVBQUEsVUFBVSxFQUFFLFFBQVEsQ0FBQyxhQUFULENBQXVCLGFBQXZCLENBSEc7QUFJZixFQUFBLElBQUksRUFBRSxRQUFRLENBQUMsYUFBVCxDQUF1QixPQUF2QixDQUpTO0FBS2YsRUFBQSxVQUFVLEVBQUUsUUFBUSxDQUFDLGdCQUFULENBQTBCLE9BQU8sQ0FBQyxhQUFsQyxDQUxHO0FBTWYsRUFBQSxXQUFXLEVBQUUsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsbUJBQXZCLENBTkU7QUFPZixFQUFBLE1BQU0sRUFBRTtBQUNKLElBQUEsSUFBSSxFQUFFLFFBQVEsQ0FBQyxhQUFULENBQXVCLGNBQXZCLENBREY7QUFFSixJQUFBLFFBQVEsRUFBRSxRQUFRLENBQUMsYUFBVCxDQUF1QixpREFBdkIsQ0FGTjtBQUdKLElBQUEsVUFBVSxFQUFFLFFBQVEsQ0FBQyxhQUFULENBQXVCLGlDQUF2QixDQUhSO0FBSUosSUFBQSxNQUFNLEVBQUUsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsVUFBdkIsQ0FKSjtBQUtKLElBQUEsYUFBYSxFQUFFLFFBQVEsQ0FBQyxhQUFULENBQXVCLGVBQXZC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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImV4cG9ydCBjb25zdCBvcHRpb25zID0gb2NlYW53cExvY2FsaXplO1xyXG5cclxuZXhwb3J0IGNvbnN0IERPTSA9IHtcclxuICAgIGh0bWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJodG1sXCIpLFxyXG4gICAgYm9keTogZG9jdW1lbnQuYm9keSxcclxuICAgIFdQQWRtaW5iYXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjd3BhZG1pbmJhclwiKSxcclxuICAgIG1haW46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWFpblwiKSxcclxuICAgIHNlbGVjdFRhZ3M6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5jdXN0b21TZWxlY3RzKSxcclxuICAgIGZsb2F0aW5nQmFyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm93cC1mbG9hdGluZy1iYXJcIiksXHJcbiAgICBoZWFkZXI6IHtcclxuICAgICAgICBzaXRlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NpdGUtaGVhZGVyXCIpLFxyXG4gICAgICAgIHZlcnRpY2FsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NpdGUtaGVhZGVyLnZlcnRpY2FsLWhlYWRlciAjc2l0ZS1oZWFkZXItaW5uZXJcIiksXHJcbiAgICAgICAgZnVsbFNjcmVlbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzaXRlLWhlYWRlci5mdWxsX3NjcmVlbi1oZWFkZXJcIiksXHJcbiAgICAgICAgdG9wYmFyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RvcC1iYXJcIiksXHJcbiAgICAgICAgdG9wYmFyV3JhcHBlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b3AtYmFyLXdyYXBcIiksXHJcbiAgICAgICAgc3RpY2t5VG9wYmFyV3JhcHBlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b3AtYmFyLXN0aWNreS13cmFwcGVyXCIpLFxyXG4gICAgICAgIHRvcExlZnRTaWRlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NpdGUtaGVhZGVyLnRvcC1oZWFkZXIgLmhlYWRlci10b3AgLmxlZnRcIiksXHJcbiAgICAgICAgdG9wUmlnaHRTaWRlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NpdGUtaGVhZGVyLnRvcC1oZWFkZXIgLmhlYWRlci10b3AgLnJpZ2h0XCIpLFxyXG4gICAgfSxcclxuICAgIG1lbnU6IHtcclxuICAgICAgICBuYXY6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2l0ZS1oZWFkZXIuaGVhZGVyLXJlcGxhY2UgI3NpdGUtbmF2aWdhdGlvblwiKSxcclxuICAgICAgICBtYWluOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tbWVudVwiKSxcclxuICAgICAgICBmdWxsU2NyZWVuOiB7XHJcbiAgICAgICAgICAgIG1lbnU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2l0ZS1oZWFkZXIuZnVsbF9zY3JlZW4taGVhZGVyICNmdWxsLXNjcmVlbi1tZW51XCIpLFxyXG4gICAgICAgICAgICB0b2dnbGVNZW51QnRuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NpdGUtaGVhZGVyLmZ1bGxfc2NyZWVuLWhlYWRlciAubWVudS1iYXJcIiksXHJcbiAgICAgICAgICAgIGxvZ286IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2l0ZS1sb2dvLmhhcy1mdWxsLXNjcmVlbi1sb2dvXCIpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWVnYToge1xyXG4gICAgICAgICAgICBtZW51SXRlbXM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjc2l0ZS1uYXZpZ2F0aW9uIC5tZWdhbWVudS1saS5mdWxsLW1lZ2FcIiksXHJcbiAgICAgICAgICAgIHRvcGJhck1lbnVJdGVtczogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiN0b3AtYmFyLW5hdiAubWVnYW1lbnUtbGkuZnVsbC1tZWdhXCIpLFxyXG4gICAgICAgICAgICBtZW51Q29udGVudHM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2aWdhdGlvbiAubWVnYW1lbnUtbGkuYXV0by1tZWdhIC5tZWdhbWVudVwiKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHZlcnRpY2FsOiB7XHJcbiAgICAgICAgICAgIHRvZ2dsZU1lbnVCdG46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJhLnZlcnRpY2FsLXRvZ2dsZVwiKSxcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIG1vYmlsZU1lbnU6IHtcclxuICAgICAgICBuYXY6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9iaWxlLWRyb3Bkb3duID4gbmF2XCIpLFxyXG4gICAgICAgIG5hdldyYXBwZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9iaWxlLWRyb3Bkb3duXCIpLFxyXG4gICAgICAgIHRvZ2dsZU1lbnVCdG46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9iaWxlLW1lbnVcIiksXHJcbiAgICAgICAgaGFtYnVyZ2VyQnRuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vYmlsZS1tZW51ID4gLmhhbWJ1cmdlclwiKSxcclxuICAgICAgICBtZW51SXRlbXNIYXNDaGlsZHJlbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNtb2JpbGUtZHJvcGRvd24gLm1lbnUtaXRlbS1oYXMtY2hpbGRyZW5cIiksXHJcbiAgICAgICAgZnVsbFNjcmVlbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2JpbGUtZnVsbHNjcmVlblwiKSxcclxuICAgIH0sXHJcbiAgICBzZWFyY2g6IHtcclxuICAgICAgICBmb3JtczogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImZvcm0uaGVhZGVyLXNlYXJjaGZvcm1cIiksXHJcbiAgICAgICAgZHJvcERvd246IHtcclxuICAgICAgICAgICAgdG9nZ2xlU2VhcmNoQnRuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYS5zZWFyY2gtZHJvcGRvd24tdG9nZ2xlXCIpLFxyXG4gICAgICAgICAgICBmb3JtOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NlYXJjaGZvcm0tZHJvcGRvd25cIiksXHJcbiAgICAgICAgfSxcclxuICAgICAgICBoZWFkZXJSZXBsYWNlOiB7XHJcbiAgICAgICAgICAgIHRvZ2dsZVNlYXJjaEJ0bjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImEuc2VhcmNoLWhlYWRlci1yZXBsYWNlLXRvZ2dsZVwiKSxcclxuICAgICAgICAgICAgY2xvc2VCdG46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2VhcmNoZm9ybS1oZWFkZXItcmVwbGFjZS1jbG9zZVwiKSxcclxuICAgICAgICAgICAgZm9ybTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzZWFyY2hmb3JtLWhlYWRlci1yZXBsYWNlXCIpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3ZlcmxheToge1xyXG4gICAgICAgICAgICB0b2dnbGVTZWFyY2hCdG46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJhLnNlYXJjaC1vdmVybGF5LXRvZ2dsZVwiKSxcclxuICAgICAgICAgICAgY2xvc2VCdG46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJhLnNlYXJjaC1vdmVybGF5LWNsb3NlXCIpLFxyXG4gICAgICAgICAgICBmb3JtOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NlYXJjaGZvcm0tb3ZlcmxheVwiKSxcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIGZvb3Rlcjoge1xyXG4gICAgICAgIHBhcmFsbGF4OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBhcmFsbGF4LWZvb3RlclwiKSxcclxuICAgIH0sXHJcbiAgICBzY3JvbGw6IHtcclxuICAgICAgICBzY3JvbGxUb3A6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2Nyb2xsLXRvcFwiKSxcclxuICAgICAgICBnb1RvcDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYVtocmVmPVwiI2dvLXRvcFwiXScpLFxyXG4gICAgICAgIGdvVG9wU2xhc2g6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHkuaG9tZSBhW2hyZWY9XCIvI2dvLXRvcFwiXScpLFxyXG4gICAgfSxcclxuICAgIGJsb2c6IHtcclxuICAgICAgICBtYXNvbnJ5R3JpZHM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYmxvZy1tYXNvbnJ5LWdyaWRcIiksXHJcbiAgICB9LFxyXG4gICAgZWRkOiB7XHJcbiAgICAgICAgY2FydHM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWRkLW1lbnUtaWNvblwiKSxcclxuICAgICAgICBvdmVybGF5Q2FydHM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIub3dwLWNhcnQtb3ZlcmxheVwiKSxcclxuICAgICAgICB0b3RhbFByaWNlczogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5lZGRtZW51Y2FydC1kZXRhaWxzLnRvdGFsXCIpLFxyXG4gICAgICAgIHF1aWNrVmlld01vZGFsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI293cC1xdi13cmFwXCIpLFxyXG4gICAgICAgIHF1aWNrVmlld0NvbnRlbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3dwLXF2LWNvbnRlbnRcIiksXHJcbiAgICB9LFxyXG4gICAgd29vOiB7XHJcbiAgICAgICAgcHJvZHVjdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53b29jb21tZXJjZSBkaXYucHJvZHVjdFwiKSxcclxuICAgICAgICBhbGxQcm9kdWN0czogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi53b29jb21tZXJjZSB1bC5wcm9kdWN0c1wiKSxcclxuICAgICAgICBjYXRlZ29yaWVzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLndvby1kcm9wZG93bi1jYXQgLnByb2R1Y3QtY2F0ZWdvcmllc1wiKSxcclxuICAgICAgICB2ZXJ0aWNhbFRodW1iczogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5vd3AtdGh1bWJzLWxheW91dC12ZXJ0aWNhbFwiKSxcclxuICAgICAgICBuYXZzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZsZXgtY29udHJvbC1uYXZcIiksXHJcbiAgICAgICAgZ3JpZDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vY2VhbndwLWdyaWQtbGlzdCAjb2NlYW53cC1ncmlkXCIpLFxyXG4gICAgICAgIGxpc3Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub2NlYW53cC1ncmlkLWxpc3QgI29jZWFud3AtbGlzdFwiKSxcclxuICAgICAgICBwcm9kdWN0VGFiczogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53b29jb21tZXJjZSBkaXYucHJvZHVjdCAud29vY29tbWVyY2UtdGFic1wiKSxcclxuICAgICAgICBwcm9kdWN0Q2FydHM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIud29vY29tbWVyY2UgZGl2LnByb2R1Y3QgLmNhcnRcIiksXHJcbiAgICAgICAgcXVlbnRpdHk6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJxdWFudGl0eVwiXScpLFxyXG4gICAgICAgIGNoZWNrb3V0Rm9ybTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImZvcm0ud29vY29tbWVyY2UtY2hlY2tvdXRcIiksXHJcbiAgICAgICAgY2hlY2tvdXRMb2dpbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjaGVja291dF9sb2dpblwiKSxcclxuICAgICAgICBjaGVja291dENvdXBvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjaGVja291dF9jb3Vwb25cIiksXHJcbiAgICAgICAgY2hlY2tvdXRUaW1lbGluZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNvd3AtY2hlY2tvdXQtdGltZWxpbmVcIiksXHJcbiAgICAgICAgY3VzdG9tZXJCaWxsaW5nRGV0YWlsczogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjdXN0b21lcl9iaWxsaW5nX2RldGFpbHNcIiksXHJcbiAgICAgICAgY3VzdG9tZXJTaGlwcGluZ0RldGFpbHM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY3VzdG9tZXJfc2hpcHBpbmdfZGV0YWlsc1wiKSxcclxuICAgICAgICBjdXN0b21lckxvZ2luOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2N1c3RvbWVyX2xvZ2luXCIpLFxyXG4gICAgICAgIG9yZGVyUmV2aWV3OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI29yZGVyX3Jldmlld1wiKSxcclxuICAgICAgICBvcmRlckNoZWNrb3V0UGF5bWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNvcmRlcl9jaGVja291dF9wYXltZW50XCIpLFxyXG4gICAgICAgIHBsYWNlT3JkZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGxhY2Vfb3JkZXJcIiksXHJcbiAgICAgICAgZm9ybUFjdGlvbnM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9ybV9hY3Rpb25zXCIpLFxyXG4gICAgICAgIG92ZXJsYXlDYXJ0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm93cC1jYXJ0LW92ZXJsYXlcIiksXHJcbiAgICAgICAgYWNjb3VudExpbmtzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm93cC1hY2NvdW50LWxpbmtzXCIpLFxyXG4gICAgICAgIHF1YW50aXR5SW5wdXRzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnF1YW50aXR5Om5vdCguYnV0dG9uc19hZGRlZCkgLnF0eVwiKSxcclxuICAgICAgICBxdWlja1ZpZXc6IHtcclxuICAgICAgICAgICAgbW9kYWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3dwLXF2LXdyYXBcIiksXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3dwLXF2LWNvbnRlbnRcIiksXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgRE9NU3RyaW5nID0ge307XHJcbiIsImNvbnN0IHsgRE9NLCBvcHRpb25zIH0gPSByZXF1aXJlKFwiLi4vLi4vY29uc3RhbnRzXCIpO1xyXG5pbXBvcnQgZGVsZWdhdGUgZnJvbSBcImRlbGVnYXRlXCI7XHJcblxyXG5jbGFzcyBXb29BamF4QWRkVG9DYXJ0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIGlmIChET00ud29vLnByb2R1Y3QuY2xhc3NMaXN0LmNvbnRhaW5zKFwicHJvZHVjdC10eXBlLWdyb3VwZWRcIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4jc2V0dXBFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgICNzZXR1cEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgICAgIGRlbGVnYXRlKFxyXG4gICAgICAgICAgICBET00uYm9keSxcclxuICAgICAgICAgICAgXCIucHJvZHVjdDpub3QoLnByb2R1Y3QtdHlwZS1leHRlcm5hbCkgLnNpbmdsZV9hZGRfdG9fY2FydF9idXR0b246bm90KC5kaXNhYmxlZClcIixcclxuICAgICAgICAgICAgXCJjbGlja1wiLFxyXG4gICAgICAgICAgICB0aGlzLiNvbkFkZFRvQ2FydEJ0bkNsaWNrXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgalF1ZXJ5KFwiYm9keVwiKS5vbihcImFkZGVkX3RvX2NhcnRcIiwgdGhpcy4jdXBkYXRlQ2FydCk7XHJcbiAgICB9O1xyXG5cclxuICAgICNvbkFkZFRvQ2FydEJ0bkNsaWNrID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgYWRkVG9DYXJ0QnRuID0gZXZlbnQuZGVsZWdhdGVUYXJnZXQ7XHJcbiAgICAgICAgY29uc3QgJGFkZFRvQ2FydEJ0biA9IGpRdWVyeShhZGRUb0NhcnRCdG4pO1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBhZGRUb0NhcnRCdG4uY2xvc2VzdChcImZvcm0uY2FydFwiKTtcclxuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IHRoaXMuI2dldEZvcm1EYXRhKGZvcm0pO1xyXG4gICAgICAgIGNvbnN0ICRib2R5ID0galF1ZXJ5KFwiYm9keVwiKTtcclxuXHJcbiAgICAgICAgaWYgKGZvcm1EYXRhLnNvbWUoKGRhdGEpID0+IGRhdGEubmFtZSA9PT0gXCJhZGQtdG8tY2FydFwiKSkge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgJGJvZHkudHJpZ2dlcihcImFkZGluZ190b19jYXJ0XCIsIFskYWRkVG9DYXJ0QnRuLCBmb3JtRGF0YV0pO1xyXG5cclxuICAgICAgICAgICAgYWRkVG9DYXJ0QnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJhZGRlZFwiKTtcclxuICAgICAgICAgICAgYWRkVG9DYXJ0QnRuLmNsYXNzTGlzdC5hZGQoXCJsb2FkaW5nXCIpO1xyXG5cclxuICAgICAgICAgICAgalF1ZXJ5LmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiBvcHRpb25zLndjX2FqYXhfdXJsLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcclxuXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICRib2R5LnRyaWdnZXIoXCJ3Y19mcmFnbWVudF9yZWZyZXNoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICRib2R5LnRyaWdnZXIoXCJhZGRlZF90b19jYXJ0XCIsIFtudWxsLCBudWxsLCAkYWRkVG9DYXJ0QnRuXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNhcnRfcmVkaXJlY3RfYWZ0ZXJfYWRkID09PSBcInllc1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IG9wdGlvbnMuY2FydF91cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICN1cGRhdGVDYXJ0ID0gKGUsIGZyYWdtZW50cywgY2FydF9oYXNoLCAkYnV0dG9uKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2FydEJ0biA9IHR5cGVvZiAkYnV0dG9uID09PSBcInVuZGVmaW5lZFwiID8gZmFsc2UgOiAkYnV0dG9uLmdldCgwKTtcclxuXHJcbiAgICAgICAgaWYgKGNhcnRCdG4pIHtcclxuICAgICAgICAgICAgY2FydEJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwibG9hZGluZ1wiKTtcclxuICAgICAgICAgICAgY2FydEJ0bi5jbGFzc0xpc3QuYWRkKFwiYWRkZWRcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBWaWV3IGNhcnQgdGV4dC5cclxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmlzX2NhcnQgJiYgIWNhcnRCdG4ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKFwiLmFkZGVkX3RvX2NhcnRcIikpIHtcclxuICAgICAgICAgICAgICAgIGNhcnRCdG4uaW5zZXJ0QWRqYWNlbnRIVE1MKFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYWZ0ZXJlbmRcIixcclxuICAgICAgICAgICAgICAgICAgICBgPGEgaHJlZj1cIiR7b3B0aW9ucy5jYXJ0X3VybH1cIiBjbGFzcz1cImFkZGVkX3RvX2NhcnQgd2MtZm9yd2FyZFwiIHRpdGxlPVwiJHtvcHRpb25zLnZpZXdfY2FydH1cIj4ke29wdGlvbnMudmlld19jYXJ0fTwvYT5gXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAjZ2V0Rm9ybURhdGEgPSAoZm9ybSkgPT4ge1xyXG4gICAgICAgIGZvcm0gPSBmb3JtIGluc3RhbmNlb2YgRWxlbWVudCA/IGZvcm0gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZvcm0pO1xyXG4gICAgICAgIGNvbnN0IHJDUkxGID0gL1xccj9cXG4vZztcclxuXHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oZm9ybS5lbGVtZW50cykubWFwKChlbGVtZW50LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGVsZW1lbnQudmFsdWU7XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09IFwiY2hlY2tib3hcIiAmJiBlbGVtZW50LmNoZWNrZWQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBuYW1lOiBlbGVtZW50Lm5hbWUsIHZhbHVlOiBcIlwiIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gXCJyYWRpb1wiICYmIGVsZW1lbnQuY2hlY2tlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IG5hbWU6IGVsZW1lbnQubmFtZSwgdmFsdWU6IFwiXCIgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpXHJcbiAgICAgICAgICAgICAgICA/IEFycmF5LmZyb20odmFsdWUpLm1hcCgodmFsLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgbmFtZTogZWxlbWVudC5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UockNSTEYsIFwiXFxyXFxuXCIpIH07XHJcbiAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICA6IHsgbmFtZTogZWxlbWVudC5uYW1lLCB2YWx1ZTogdmFsdWUucmVwbGFjZShyQ1JMRiwgXCJcXHJcXG5cIikgfTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn1cclxuXHJcbmpRdWVyeShmdW5jdGlvbiAoKSB7XHJcbiAgICBuZXcgV29vQWpheEFkZFRvQ2FydCgpO1xyXG59KTtcclxuIiwidmFyIERPQ1VNRU5UX05PREVfVFlQRSA9IDk7XG5cbi8qKlxuICogQSBwb2x5ZmlsbCBmb3IgRWxlbWVudC5tYXRjaGVzKClcbiAqL1xuaWYgKHR5cGVvZiBFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiAhRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuICAgIHZhciBwcm90byA9IEVsZW1lbnQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8ubWF0Y2hlcyA9IHByb3RvLm1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ub01hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgcGFyZW50IHRoYXQgbWF0Y2hlcyBhIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY2xvc2VzdCAoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICB3aGlsZSAoZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVUeXBlICE9PSBET0NVTUVOVF9OT0RFX1RZUEUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50Lm1hdGNoZXMgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgIGVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjbG9zZXN0O1xuIiwidmFyIGNsb3Nlc3QgPSByZXF1aXJlKCcuL2Nsb3Nlc3QnKTtcblxuLyoqXG4gKiBEZWxlZ2F0ZXMgZXZlbnQgdG8gYSBzZWxlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHVzZUNhcHR1cmVcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gX2RlbGVnYXRlKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSkge1xuICAgIHZhciBsaXN0ZW5lckZuID0gbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIERlbGVnYXRlcyBldmVudCB0byBhIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxTdHJpbmd8QXJyYXl9IFtlbGVtZW50c11cbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHVzZUNhcHR1cmVcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZGVsZWdhdGUoZWxlbWVudHMsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSkge1xuICAgIC8vIEhhbmRsZSB0aGUgcmVndWxhciBFbGVtZW50IHVzYWdlXG4gICAgaWYgKHR5cGVvZiBlbGVtZW50cy5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBfZGVsZWdhdGUuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgRWxlbWVudC1sZXNzIHVzYWdlLCBpdCBkZWZhdWx0cyB0byBnbG9iYWwgZGVsZWdhdGlvblxuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBVc2UgYGRvY3VtZW50YCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyLCB0aGVuIGFwcGx5IGFyZ3VtZW50c1xuICAgICAgICAvLyBUaGlzIGlzIGEgc2hvcnQgd2F5IHRvIC51bnNoaWZ0IGBhcmd1bWVudHNgIHdpdGhvdXQgcnVubmluZyBpbnRvIGRlb3B0aW1pemF0aW9uc1xuICAgICAgICByZXR1cm4gX2RlbGVnYXRlLmJpbmQobnVsbCwgZG9jdW1lbnQpLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIFNlbGVjdG9yLWJhc2VkIHVzYWdlXG4gICAgaWYgKHR5cGVvZiBlbGVtZW50cyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgQXJyYXktbGlrZSBiYXNlZCB1c2FnZVxuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBfZGVsZWdhdGUoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBGaW5kcyBjbG9zZXN0IG1hdGNoIGFuZCBpbnZva2VzIGNhbGxiYWNrLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBsaXN0ZW5lcihlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICBlLmRlbGVnYXRlVGFyZ2V0ID0gY2xvc2VzdChlLnRhcmdldCwgc2VsZWN0b3IpO1xuXG4gICAgICAgIGlmIChlLmRlbGVnYXRlVGFyZ2V0KSB7XG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKGVsZW1lbnQsIGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlbGVnYXRlO1xuIl19
