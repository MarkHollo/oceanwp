jQuery((function(e){if("undefined"==typeof oceanwpLocalize||e(".woocommerce div.product").hasClass("product-type-grouped"))return!1;e.fn.serializeArrayAll=function(){var e=/\r?\n/g;return this.map((function(){return this.elements?jQuery.makeArray(this.elements):this})).map((function(t,a){var r=jQuery(this).val();return null==r?null==r:"checkbox"==this.type&&0==this.checked||"radio"==this.type&&0==this.checked?{name:this.name,value:this.checked?this.value:""}:jQuery.isArray(r)?jQuery.map(r,(function(t,r){return{name:a.name,value:t.replace(e,"\r\n")}})):{name:a.name,value:r.replace(e,"\r\n")}})).get()};var t=function(){e(document.body).on("click",".product:not(.product-type-external) .single_add_to_cart_button:not(.disabled)",this.onAddToCart).on("added_to_cart",this.updateButton)};t.prototype.onAddToCart=function(t){t.preventDefault();var a=e(this),r=e(this).closest("form.cart").serializeArrayAll(),n=!1;e.each(r,(function(e,t){if("add-to-cart"===t.name)return n=!0,!1})),n&&(t.preventDefault(),e(document.body).trigger("adding_to_cart",[a,r]),a.removeClass("added"),a.addClass("loading"),e.ajax({url:oceanwpLocalize.wc_ajax_url,type:"POST",data:r,success:function(t){e(document.body).trigger("wc_fragment_refresh"),e(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,a]),"yes"!==oceanwpLocalize.cart_redirect_after_add||(window.location=oceanwpLocalize.cart_url)}}))},t.prototype.updateButton=function(e,t,a,r){(r=void 0!==r&&r)&&(r.removeClass("loading"),r.addClass("added"),oceanwpLocalize.is_cart||0!==r.parent().find(".added_to_cart").length||r.after(' <a href="'+oceanwpLocalize.cart_url+'" class="added_to_cart wc-forward" title="'+oceanwpLocalize.view_cart+'">'+oceanwpLocalize.view_cart+"</a>"))},new t}));